{% extends "base.html" %}
{% block title %}Profile{% endblock %}

{% block content %}
<div class="page-card">

  <div class="d-flex align-items-center justify-content-between mb-3">
    <div>
      <h3 class="mb-1" style="font-weight:900;">My Profile</h3>
      <div class="text-muted" style="font-size:13px;">
        View your account information.
      </div>
    </div>
  </div>

  <div class="profile-grid">

    <div class="profile-card">
      <div class="profile-head">
        {% set parts = (user.firstname or '').split() %}
        {% set first = parts[0] if parts|length > 0 else '' %}
        {% set last = parts[-1] if parts|length > 1 else '' %}
        {% set initials = (first[:1] ~ (last[:1] if last else (first[1:2] if first|length > 1 else ''))).upper() %}
        <div class="profile-avatar">{{ initials }}</div>

        <div>
          <div class="profile-name">{{ user.firstname }}</div>
          <div class="profile-role">
            {% if user.is_admin %}Administrator{% else %}User{% endif %}
          </div>
        </div>
      </div>

      <div class="profile-body">
        <div class="profile-field">
          <div class="label">Email</div>
          <div class="value">{{ user.email }}</div>
        </div>

        <div class="profile-field">
          <div class="label">Account Type</div>
          <div class="value">
            {% if user.is_admin %}Admin{% else %}User{% endif %}
          </div>
        </div>

        <div class="mt-3">
          <a class="btn btn-danger btn-sm" href="{{ url_for('auth.logout') }}">
            Logout
          </a>
        </div>
      </div>
    </div>

    <div class="profile-card">
      <div class="profile-body">
        <h5 style="font-weight:900;">Security</h5>
        <div class="alert alert-info mb-0">
          Your password is stored securely (hashed).
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}
